(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36a8ca3b"],{5586:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"model-box"},[e("div",{staticClass:"three-box",attrs:{id:"model-container"}}),e("div",{staticClass:"test-box"},[e("div",{staticClass:"tool-box"},[e("div",{staticClass:"tool-item-box",staticStyle:{"justify-content":"flex-start"}},[e("span",{staticClass:"tool-item-title"},[t._v("查看声门：")]),e("el-button",{on:{click:function(e){return t.checkGlottis()}}},[t._v(t._s(t.checkGlottisText))])],1),e("div",{directives:[{name:"show",rawName:"v-show",value:t.isCheckGlottis,expression:"isCheckGlottis"}]},[e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("气管透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01},on:{change:function(e){return t.setCheckOpacityValA()}},model:{value:t.checkOpacityValue[0],callback:function(e){t.$set(t.checkOpacityValue,0,e)},expression:"checkOpacityValue[0]"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("舌头透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01},on:{change:function(e){return t.setCheckOpacityValB()}},model:{value:t.checkOpacityValue[1],callback:function(e){t.$set(t.checkOpacityValue,1,e)},expression:"checkOpacityValue[1]"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("舌骨透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01},on:{change:function(e){return t.setCheckOpacityValC()}},model:{value:t.checkOpacityValue[2],callback:function(e){t.$set(t.checkOpacityValue,2,e)},expression:"checkOpacityValue[2]"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("喉结透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01},on:{change:function(e){return t.setCheckOpacityValD()}},model:{value:t.checkOpacityValue[3],callback:function(e){t.$set(t.checkOpacityValue,3,e)},expression:"checkOpacityValue[3]"}})],1)])]),e("div",{staticClass:"info-box"},[e("el-card",{staticClass:"info-box-card",attrs:{shadow:"hover"}},[e("div",{staticClass:"info-box-title",attrs:{slot:"header"},slot:"header"},[t._v("实时数据演算结果")]),e("div",{staticClass:"info-item-box"},[e("span",{staticClass:"info-item-title"},[t._v("张口角度：")]),e("span",{staticClass:"info-item-num"},[t._v(t._s((30*t.mouseAngle.num).toFixed(0))+"°")])]),e("div",{staticClass:"info-item-box"},[e("span",{staticClass:"info-item-title"},[t._v("下巴长度：")]),e("span",{staticClass:"info-item-num"},[t._v(t._s((45+t.chinShift.num/3*15).toFixed(0))+"mm")])]),e("div",{staticClass:"info-item-box"},[e("span",{staticClass:"info-item-title"},[t._v("仰头角度：")]),e("span",{staticClass:"info-item-num"},[t._v(t._s((t.headAngle.num/1*40-5).toFixed(0))+"°")])])])],1)]),e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isCheckGlottis,expression:"isCheckGlottis"}],staticClass:"panel-box",attrs:{"element-loading-text":"正在查看声门，禁止调整参数","element-loading-spinner":"el-icon-lock","element-loading-background":t.loadingBgc}},[e("div",{staticClass:"tool-box"},[e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("张口角度：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:t.mouseAngle.minnum,max:t.mouseAngle.maxnum,step:t.mouseAngle.stepnum,"show-input":""},on:{change:function(e){return t.setMouseAngle()}},model:{value:t.mouseAngle.num,callback:function(e){t.$set(t.mouseAngle,"num",e)},expression:"mouseAngle.num"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-middle"},[t._v("模拟下巴前伸：")]),e("el-slider",{staticClass:"tool-item-slider tool-item-slider-middle",attrs:{min:t.chinShift.minnum,max:t.chinShift.maxnum,step:t.chinShift.stepnum,"show-input":""},on:{change:function(e){return t.setChinShift()}},model:{value:t.chinShift.num,callback:function(e){t.$set(t.chinShift,"num",e)},expression:"chinShift.num"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("仰头分级：")]),e("el-select",{staticClass:"tool-item-select",attrs:{clearable:!0,placeholder:"请选择仰头分级"},on:{change:function(e){return t.headLevelChange()},clear:function(e){return t.headLevelClear()}},model:{value:t.headLevel,callback:function(e){t.headLevel=e},expression:"headLevel"}},[e("el-option",{attrs:{label:"1级",value:1}}),e("el-option",{attrs:{label:"2级",value:2}}),e("el-option",{attrs:{label:"3级",value:3}}),e("el-option",{attrs:{label:"4级",value:4}})],1)],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("仰头角度：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:t.headAngle.minnum,max:t.headAngle.maxnum,step:t.headAngle.stepnum,disabled:t.headAngle.isoff,"show-input":""},on:{change:function(e){return t.setHeadAngle()}},model:{value:t.headAngle.num,callback:function(e){t.$set(t.headAngle,"num",e)},expression:"headAngle.num"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("喉结位移常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入喉结位移常数"},model:{value:t.throatShift,callback:function(e){t.throatShift=e},expression:"throatShift"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("颞颌关节活动度常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入颞颌关节活动常数"},model:{value:t.jointShiftA,callback:function(e){t.jointShiftA=e},expression:"jointShiftA"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("颞颌关节张口度常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入颞颌关节活动常数"},model:{value:t.jointShiftB,callback:function(e){t.jointShiftB=e},expression:"jointShiftB"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("舌体厚度：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:t.tongueThickness.minnum,max:t.tongueThickness.maxnum,step:t.tongueThickness.stepnum,"show-input":""},model:{value:t.tongueThickness.num,callback:function(e){t.$set(t.tongueThickness,"num",e)},expression:"tongueThickness.num"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("舌体厚度常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入舌体厚度常数"},model:{value:t.tongueThicknessConstant,callback:function(e){t.tongueThicknessConstant=e},expression:"tongueThicknessConstant"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("舌体厚度缺失下常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入舌体厚度缺失下常数"},model:{value:t.tongueConstantA,callback:function(e){t.tongueConstantA=e},expression:"tongueConstantA"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title tool-item-title-long"},[t._v("舌颏距离缺失下常数：")]),e("el-input",{staticClass:"tool-item-input tool-item-input-long",attrs:{clearable:!0,placeholder:"请输入舌颏距离缺失下常数"},model:{value:t.tongueConstantB,callback:function(e){t.tongueConstantB=e},expression:"tongueConstantB"}})],1),e("div",{staticClass:"tool-item-box"},[t._v("提示：使用透明度设置后，部分模型必须旋转一定角度才可以透视")]),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("人体透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01,"show-input":""},on:{change:function(e){return t.setOpacityVal()}},model:{value:t.opacityValue,callback:function(e){t.opacityValue=e},expression:"opacityValue"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("颈椎透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01,"show-input":""},on:{change:function(e){return t.setVertebraeOpacityVal()}},model:{value:t.vertebraeOpacityValue,callback:function(e){t.vertebraeOpacityValue=e},expression:"vertebraeOpacityValue"}})],1),e("div",{staticClass:"tool-item-box"},[e("span",{staticClass:"tool-item-title"},[t._v("喉结透明：")]),e("el-slider",{staticClass:"tool-item-slider",attrs:{min:0,max:1,step:.01,"show-input":""},on:{change:function(e){return t.setAdamOpacityVal()}},model:{value:t.adamOpacityValue,callback:function(e){t.adamOpacityValue=e},expression:"adamOpacityValue"}})],1),e("div",{staticClass:"tool-item-box tool-item-btnbox"},[e("el-button",{staticClass:"tool-item-btn",attrs:{type:t.isShowHuman?"primary":"info"},on:{click:function(e){return t.visHuman()}}},[t._v(t._s(t.isShowHumanText))]),e("el-button",{staticClass:"tool-item-btn",attrs:{type:t.isShowVertebrae?"primary":"info"},on:{click:function(e){return t.visVertebrae()}}},[t._v(t._s(t.isShowVertebraeText))]),e("el-button",{staticClass:"tool-item-btn",attrs:{type:t.isShowAdam?"primary":"info"},on:{click:function(e){return t.visAdam()}}},[t._v(t._s(t.isShowAdamText))])],1)])]),e("div",{staticClass:"fx67ll-footer"},[t._v("\n\t\tDesigned & Powered by\n\t\t"),e("a",{attrs:{href:"https://fx67ll.com",target:"_blank"}},[t._v("fx67ll")]),t._v("\n\t\t　 Copyright© 2018-"+t._s(this.year)+"　\n\t\t"),e("a",{attrs:{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank"}},[t._v("皖ICP备18017174号")])])])},a=[],o=(i("2caf"),i("ac6a"),i("5a89")),n=i("ef20"),l=i("4721"),c=i("8710"),h=i("c46f"),r=i("c1df"),m=i.n(r),u={name:"modelIndex",data:function(){return{year:m()().format("YYYY"),camera:null,scene:null,renderer:null,stats:null,mixer:null,clock:null,fbxloader:null,fbxGroup:null,modelUrl:"models/Human-004.fbx",fbxGroupKeys:{a:{keys:[7,6,8,11,18],isShow:!0},b:{keys:[0,10,3,9,16],isShow:!0},c:{keys:[2,13,1,14,15],isShow:!0},d:{keys:[4,5,12,17,19],isShow:!0},human:{keys:[7,9,13]},throat:{keys:[6,2,3]},vertebrae:{keys:[0,1,10,11,8,14]},adam:{keys:[15,16,18]},check:{keys:[12,19]}},isShowAll:!0,mouseAngle:{num:0,minnum:0,maxnum:1,stepnum:.01},chinShift:{num:0,minnum:-2,maxnum:2,stepnum:.02},headLevel:null,headAngle:{num:0,minnum:0,maxnum:1,stepnum:.01,isoff:!0},throatShift:6,jointShiftA:15,jointShiftB:18,tongueThickness:{num:0,minnum:0,maxnum:10,stepnum:.1},tongueThicknessConstant:10,tongueConstantA:20,tongueConstantB:20,opacityValue:.3,throatOpacityValue:1,vertebraeOpacityValue:1,adamOpacityValue:1,isShowHuman:!0,isShowHumanText:"隐藏人体",isShowThroat:!0,isShowThroatText:"隐藏气管",isShowVertebrae:!0,isShowVertebraeText:"隐藏颈椎",isShowAdam:!0,isShowAdamText:"隐藏喉结",isCheckGlottis:!1,checkGlottisText:"点击开始查看声门",loadingBgc:"rgba(0,0,0,0.5)",checkOpacityValue:[.5,1,1,1],modelLoading:!1,modelLoadingText:"0%"}},mounted:function(){this.modelInit()},methods:{test:function(){this.getModelGroup()},getModelGroup:function(){h["a"].each(this.fbxGroup.children,(function(t,e){}))},setCheckOpacityValA:function(){this.showModel(0,!1),this.showModel(4,!0),this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[0].transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[0].opacity=this.checkOpacityValue[0],this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[1].transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[1].opacity=this.checkOpacityValue[0],this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[2].transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[2].opacity=this.checkOpacityValue[0]},setCheckOpacityValB:function(){this.showModel(0,!1),this.showModel(4,!0),this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[3].transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[3].opacity=this.checkOpacityValue[1]},setCheckOpacityValC:function(){this.showModel(0,!1),this.showModel(4,!0),this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[4].transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[0].material[4].opacity=this.checkOpacityValue[2]},setCheckOpacityValD:function(){this.showModel(0,!1),this.showModel(4,!0),this.getEachItem(this.fbxGroupKeys.check.keys)[1].material.transparent=!0,this.getEachItem(this.fbxGroupKeys.check.keys)[1].material.opacity=this.checkOpacityValue[3]},checkGlottis:function(){this.isCheckGlottis=!this.isCheckGlottis,this.isCheckGlottis?(this.showModel(0,!1),this.showModel(4,!0),this.checkGlottisText="退出声门查看",this.getEachItem(this.fbxGroupKeys.check.keys)[0].visible=!1,this.setCheckOpacityValA()):(this.showModel(0,!1),this.showModel(3,!0),this.setHeadAngle(),this.checkGlottisText="点击开始查看声门",this.getEachItem(this.fbxGroupKeys.check.keys)[0].visible=!0,this.checkOpacityValue=[.5,1,1,1])},setOpacityVal:function(){var t=this;h["a"].each(this.getEachItem(this.fbxGroupKeys.human.keys),(function(e,i){e.material.transparent=!0,e.material.opacity=t.opacityValue}))},setThroatOpacityVal:function(){var t=this;h["a"].each(this.getEachItem(this.fbxGroupKeys.throat.keys),(function(e,i){h["a"].each(e.material,(function(e,i){e.transparent=!0,e.opacity=t.throatOpacityValue}))}))},setVertebraeOpacityVal:function(){var t=this;h["a"].each(this.getEachItem(this.fbxGroupKeys.vertebrae.keys),(function(e,i){e.material.transparent=!0,e.material.opacity=t.vertebraeOpacityValue}))},setAdamOpacityVal:function(){var t=this;h["a"].each(this.getEachItem(this.fbxGroupKeys.adam.keys),(function(e,i){e.material.transparent=!0,e.material.opacity=t.adamOpacityValue}))},visHuman:function(){var t=this;this.isShowHuman=!this.isShowHuman,this.isShowHuman?this.isShowHumanText="隐藏人体":this.isShowHumanText="显示人体",h["a"].each(this.getEachItem(this.fbxGroupKeys.human.keys),(function(e,i){e.visible=t.isShowHuman}))},visThroat:function(){var t=this;this.isShowThroat=!this.isShowThroat,this.isShowThroat?this.isShowThroatText="隐藏气管":this.isShowThroatText="显示气管",h["a"].each(this.getEachItem(this.fbxGroupKeys.throat.keys),(function(e,i){h["a"].each(e.material,(function(e,i){e.visible=t.isShowThroat}))}))},visVertebrae:function(){var t=this;this.isShowVertebrae=!this.isShowVertebrae,this.isShowVertebrae?this.isShowVertebraeText="隐藏颈椎":this.isShowVertebraeText="显示颈椎",h["a"].each(this.getEachItem(this.fbxGroupKeys.vertebrae.keys),(function(e,i){e.visible=t.isShowVertebrae}))},visAdam:function(){var t=this;this.isShowAdam=!this.isShowAdam,this.isShowAdam?this.isShowAdamText="隐藏喉结":this.isShowAdamText="显示喉结",h["a"].each(this.getEachItem(this.fbxGroupKeys.adam.keys),(function(e,i){e.visible=t.isShowAdam}))},setMouseAngle:function(){this.isCheckGlottis=!1,this.showModel(0,!1),this.showModel(1,!0),this.getEachItem(this.fbxGroupKeys.a.keys)[0].morphTargetInfluences[0]=this.mouseAngle.num,this.getEachItem(this.fbxGroupKeys.a.keys)[1].morphTargetInfluences[0]=this.mouseAngle.num},setChinShift:function(){this.isCheckGlottis=!1,this.showModel(0,!1),this.showModel(2,!0),this.getEachItem(this.fbxGroupKeys.b.keys)[1].morphTargetInfluences[0]=this.chinShift.num,this.getEachItem(this.fbxGroupKeys.b.keys)[2].morphTargetInfluences[0]=this.chinShift.num},setHeadAngle:function(){this.isCheckGlottis=!1,this.showModel(0,!1),this.showModel(3,!0),this.getEachItem(this.fbxGroupKeys.c.keys)[1].morphTargetInfluences[0]=this.headAngle.num,this.getEachItem(this.fbxGroupKeys.c.keys)[2].morphTargetInfluences[0]=this.headAngle.num},headLevelChange:function(){var t=this;switch(t.headLevel){case 1:t.headAngle={num:.75,minnum:.75,maxnum:1,stepnum:.0025,isoff:!1};break;case 2:t.headAngle={num:.5,minnum:.5,maxnum:.75,stepnum:.0025,isoff:!1};break;case 3:t.headAngle={num:.25,minnum:.25,maxnum:.5,stepnum:.0025,isoff:!1};break;case 4:t.headAngle={num:0,minnum:0,maxnum:.25,stepnum:.0025,shownum:-5,isoff:!1};break;default:t.headAngle={num:0,minnum:0,maxnum:0,stepnum:0,isoff:!0}}},headLevelClear:function(){this.headAngle={num:0,minnum:0,maxnum:0,stepnum:0,isoff:!0}},showModel:function(t,e){var i=this;switch(t){case 1:this.forEachItem(this.getEachItem(this.fbxGroupKeys.a.keys),e);break;case 2:this.forEachItem(this.getEachItem(this.fbxGroupKeys.b.keys),e);break;case 3:this.forEachItem(this.getEachItem(this.fbxGroupKeys.c.keys),e);break;case 4:this.forEachItem(this.getEachItem(this.fbxGroupKeys.d.keys),e);break;case 0:this.forEachItem(this.fbxGroup.children,e);break;default:i.isShowAll=!i.isShowAll,h["a"].each(this.fbxGroupKeys,(function(t,e){t.isShow=!i.isShowAll})),this.forEachItem(this.fbxGroup.children,this.isShowAll)}},getEachItem:function(t){var e=[];return h["a"].each(this.fbxGroup.children,(function(i,s){h["a"].each(t,(function(t,a){s===t&&e.push(i)}))})),e},forEachItem:function(t,e){h["a"].each(t,(function(t,i){Array.isArray(t.material)?h["a"].each(t.material,(function(t,i){t.visible=e})):t.material.visible=e}))},initVisible:function(){var t=this;h["a"].each(this.fbxGroup.children,(function(e,i){Array.isArray(e.material)?h["a"].each(e.material,(function(e,i){e.visible=t.isShowAll})):e.material.visible=t.isShowAll}))},modelInit:function(){this.clock=new o["h"],this.fbxloader=new c["a"],this.init(),this.animate()},init:function(){var t=this,e=document.getElementById("model-container");t.camera=new o["H"](45,window.innerWidth/window.innerHeight,1,2e3),t.camera.position.set(-20,30,150),t.scene=new o["O"],t.scene.background=new o["i"](10526880),t.scene.fog=new o["q"](10526880,200,1e3);var i=new o["a"]("#FFFFFF");t.scene.add(i);var s=new o["k"](16777215);s.position.set(0,200,100),s.shadow.camera.top=180,s.shadow.camera.bottom=-100,s.shadow.camera.left=-120,s.shadow.camera.right=120,t.scene.add(s);var a=new o["B"](new o["I"](2e3,2e3),new o["D"]({color:10066329,depthWrite:!1}));a.rotation.x=-Math.PI/2,a.receiveShadow=!0,t.scene.add(a);var c=new o["r"](2e3,20,0,0);c.material.opacity=.2,c.material.transparent=!0,t.scene.add(c),this.modelLoading=!0,t.fbxloader.load(t.modelUrl,(function(e){t.mixer=new o["c"](e),e.traverse((function(t){t.isMesh&&(t.castShadow=!0,t.receiveShadow=!0)})),e.position.x=-12,e.position.y=10,t.scene.add(e),t.fbxGroup=t.scene.children[4],t.initVisible(),t.setOpacityVal(),t.showModel(0,!1),t.showModel(1,!0)}),(function(e){t.modelLoadingText=e.loaded/e.total*100+"%",e.loaded/e.total*100+"%"==="100%"&&(t.modelLoading=!1)})),t.renderer=new o["bb"]({antialias:!0}),t.renderer.setPixelRatio(window.devicePixelRatio),t.renderer.setSize(window.innerWidth,window.innerHeight),t.renderer.shadowMap.enabled=!0,e.appendChild(t.renderer.domElement);var h=new l["a"](t.camera,t.renderer.domElement);h.target.set(0,0,0),h.update(),window.addEventListener("resize",t.onWindowResize),t.stats=new n["a"],e.appendChild(t.stats.dom)},onWindowResize:function(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)},animate:function(){var t=this;requestAnimationFrame(t.animate);var e=t.clock.getDelta();t.mixer&&t.mixer.update(e),t.renderer.render(t.scene,t.camera),t.stats.update()}}},d=u,p=(i("b9d4"),i("2877")),f=Object(p["a"])(d,s,a,!1,null,"44b62898",null);e["default"]=f.exports},"7a5b":function(t,e,i){},b9d4:function(t,e,i){"use strict";i("7a5b")}}]);